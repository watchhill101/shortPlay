# shortPlay

çŸ­è§†é¢‘åº”ç”¨ - å¤šé¡¹ç›®ä»£ç è§„èŒƒç®¡ç†

## ğŸ“‹ é¡¹ç›®ç»“æ„

è¿™æ˜¯ä¸€ä¸ª monorepo é¡¹ç›®ï¼ŒåŒ…å«ä»¥ä¸‹ä¸‰ä¸ªå­é¡¹ç›®ï¼š

- **shortPlayApp** - uni-app ç§»åŠ¨ç«¯åº”ç”¨
- **shortPlaybackend** - Express.js åç«¯æœåŠ¡
- **shortPlayPC** - Vue3 + PrimeVue PC ç«¯åº”ç”¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm run install:all
```

### å¼€å‘ç¯å¢ƒè¿è¡Œ

```bash
# è¿è¡Œç§»åŠ¨ç«¯åº”ç”¨
npm run dev:app

# è¿è¡Œåç«¯æœåŠ¡
npm run dev:backend

# è¿è¡ŒPCç«¯åº”ç”¨
npm run dev:pc
```

## ğŸ“¦ å‘½ä»¤è¯´æ˜

### å®‰è£…å‘½ä»¤

| å‘½ä»¤                  | ä½œç”¨                 |
| --------------------- | -------------------- |
| `npm run install:all` | å®‰è£…æ‰€æœ‰é¡¹ç›®çš„ä¾èµ–åŒ… |

### å¼€å‘å‘½ä»¤

| å‘½ä»¤                  | ä½œç”¨                     |
| --------------------- | ------------------------ |
| `npm run dev:app`     | å¯åŠ¨ç§»åŠ¨ç«¯åº”ç”¨å¼€å‘æœåŠ¡å™¨ |
| `npm run dev:backend` | å¯åŠ¨åç«¯æœåŠ¡å¼€å‘æœåŠ¡å™¨   |
| `npm run dev:pc`      | å¯åŠ¨PCç«¯åº”ç”¨å¼€å‘æœåŠ¡å™¨   |

### æ„å»ºå‘½ä»¤

| å‘½ä»¤                    | ä½œç”¨                   |
| ----------------------- | ---------------------- |
| `npm run build:app`     | æ„å»ºç§»åŠ¨ç«¯åº”ç”¨ç”Ÿäº§ç‰ˆæœ¬ |
| `npm run build:backend` | æ„å»ºåç«¯æœåŠ¡ç”Ÿäº§ç‰ˆæœ¬   |
| `npm run build:pc`      | æ„å»ºPCç«¯åº”ç”¨ç”Ÿäº§ç‰ˆæœ¬   |

### ä»£ç è´¨é‡æ£€æŸ¥

#### ESLint ä»£ç è§„èŒƒæ£€æŸ¥

| å‘½ä»¤                   | ä½œç”¨                           |
| ---------------------- | ------------------------------ |
| `npm run lint`         | æ£€æŸ¥æ‰€æœ‰é¡¹ç›®çš„ä»£ç è§„èŒƒ         |
| `npm run lint:fix`     | è‡ªåŠ¨ä¿®å¤æ‰€æœ‰é¡¹ç›®çš„ä»£ç è§„èŒƒé—®é¢˜ |
| `npm run lint:app`     | ä»…æ£€æŸ¥ç§»åŠ¨ç«¯åº”ç”¨çš„ä»£ç è§„èŒƒ     |
| `npm run lint:backend` | ä»…æ£€æŸ¥åç«¯æœåŠ¡çš„ä»£ç è§„èŒƒ       |
| `npm run lint:pc`      | ä»…æ£€æŸ¥PCç«¯åº”ç”¨çš„ä»£ç è§„èŒƒ       |

#### Prettier ä»£ç æ ¼å¼åŒ–

| å‘½ä»¤                   | ä½œç”¨                               |
| ---------------------- | ---------------------------------- |
| `npm run format`       | æ ¼å¼åŒ–æ‰€æœ‰é¡¹ç›®çš„ä»£ç                |
| `npm run format:check` | æ£€æŸ¥æ‰€æœ‰é¡¹ç›®çš„ä»£ç æ ¼å¼æ˜¯å¦ç¬¦åˆè§„èŒƒ |

#### Stylelint CSSæ ·å¼æ£€æŸ¥

| å‘½ä»¤                    | ä½œç”¨                               |
| ----------------------- | ---------------------------------- |
| `npm run stylelint`     | æ£€æŸ¥æ‰€æœ‰é¡¹ç›®çš„CSS/SCSSæ ·å¼è§„èŒƒ     |
| `npm run stylelint:fix` | è‡ªåŠ¨ä¿®å¤æ‰€æœ‰é¡¹ç›®çš„CSS/SCSSæ ·å¼é—®é¢˜ |

### æ€§èƒ½ä¸å·¥å…·

| å‘½ä»¤                       | ä½œç”¨                                                |
| -------------------------- | --------------------------------------------------- |
| `npm run lint:performance` | æµ‹è¯•lint-stagedæ€§èƒ½å’Œæ‰§è¡Œæ—¶é—´                       |
| `npm run precommit`        | æ‰‹åŠ¨æ‰§è¡Œæäº¤å‰çš„ä»£ç æ£€æŸ¥ï¼ˆé€šå¸¸ç”±Git hooksè‡ªåŠ¨è§¦å‘ï¼‰ |

### Git Hooks

| å‘½ä»¤              | ä½œç”¨                                      |
| ----------------- | ----------------------------------------- |
| `npm run prepare` | å®‰è£…Husky Git hooksï¼ˆå®‰è£…ä¾èµ–æ—¶è‡ªåŠ¨æ‰§è¡Œï¼‰ |

## ğŸ› ï¸ ä»£ç è§„èŒƒå·¥å…·

é¡¹ç›®é›†æˆäº†å®Œæ•´çš„ä»£ç è´¨é‡ä¿è¯ä½“ç³»ï¼š

### ESLint é…ç½®

- âœ… JavaScript/TypeScript ä»£ç è§„èŒƒæ£€æŸ¥
- âœ… Vue ç»„ä»¶è§„èŒƒæ£€æŸ¥
- âœ… Node.js ç¯å¢ƒä¼˜åŒ–é…ç½®
- âœ… uni-app å…¨å±€å˜é‡æ”¯æŒ

### Stylelint é…ç½®

- âœ… CSS/SCSS æ ·å¼è§„èŒƒæ£€æŸ¥
- âœ… Vue å•æ–‡ä»¶ç»„ä»¶æ ·å¼æ”¯æŒ
- âœ… SCSS è¯­æ³•æ”¯æŒï¼ˆ@use, @mixin, @includeç­‰ï¼‰
- âœ… æ’é™¤ç¬¬ä¸‰æ–¹CSSæ–‡ä»¶æ£€æŸ¥

### Prettier é…ç½®

- âœ… ç»Ÿä¸€çš„ä»£ç æ ¼å¼åŒ–è§„åˆ™
- âœ… æ”¯æŒJavaScriptã€TypeScriptã€Vueã€CSSã€JSONã€Markdown
- âœ… 120å­—ç¬¦è¡Œå®½é™åˆ¶
- âœ… å•å¼•å·ã€åˆ†å·ã€ES5å°¾é€—å·

### Commitlint é…ç½®

- âœ… è§„èŒƒçš„Gitæäº¤ä¿¡æ¯æ ¼å¼æ£€æŸ¥
- âœ… æ”¯æŒçš„æäº¤ç±»å‹ï¼šfeat, fix, docs, style, refactor, perf, test, chore, ci, build, revert

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### æäº¤ä»£ç 

```bash
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"
```

åœ¨æäº¤æ—¶ï¼Œä»¥ä¸‹æ£€æŸ¥ä¼šè‡ªåŠ¨æ‰§è¡Œï¼š

1. ESLint ä»£ç è§„èŒƒæ£€æŸ¥å’Œè‡ªåŠ¨ä¿®å¤
2. Stylelint CSSæ ·å¼æ£€æŸ¥å’Œè‡ªåŠ¨ä¿®å¤
3. Prettier ä»£ç æ ¼å¼åŒ–
4. Commitlint æäº¤ä¿¡æ¯æ ¼å¼éªŒè¯

### æ‰‹åŠ¨ä»£ç æ£€æŸ¥

```bash
# å…¨é¢ä»£ç è´¨é‡æ£€æŸ¥
npm run lint
npm run stylelint
npm run format:check

# è‡ªåŠ¨ä¿®å¤é—®é¢˜
npm run lint:fix
npm run stylelint:fix
npm run format
```

## ğŸ“‹ ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- npm >= 8.0.0

## ğŸ“– é¡¹ç›®æ–‡æ¡£

- **ä»£ç è§„èŒƒé…ç½®**: æŸ¥çœ‹å„é¡¹ç›®çš„ `eslint.config.mjs` å’Œ `.stylelintrc.json`
- **Prettieré…ç½®**: æŸ¥çœ‹æ ¹ç›®å½• `.prettierrc`
- **Gitæäº¤è§„èŒƒ**: æŸ¥çœ‹ `commitlint.config.mjs`
- **æ€§èƒ½æµ‹è¯•**: ä½¿ç”¨ `npm run lint:performance` ç›‘æ§å·¥å…·é“¾æ€§èƒ½

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/æ–°åŠŸèƒ½`)
3. æäº¤å˜æ›´ (`git commit -m 'feat: æ·»åŠ æ–°åŠŸèƒ½'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/æ–°åŠŸèƒ½`)
5. åˆ›å»º Pull Request

è¯·ç¡®ä¿æ‚¨çš„ä»£ç é€šè¿‡æ‰€æœ‰è´¨é‡æ£€æŸ¥ã€‚
